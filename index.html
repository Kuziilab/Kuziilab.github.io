<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>To: Âº†ÊñØËã•</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: "Microsoft YaHei", sans-serif;
            background-color: #000;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            position: relative;
        }

        #scene-login {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, #ffe6eb 0%, #ffc0cb 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 30;
            transition: opacity 1s ease;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 30px;
            border-radius: 25px;
            width: 80%;
            max-width: 320px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(255, 105, 180, 0.3);
            border: 3px solid #fff;
        }

        .avatar { font-size: 50px; margin-bottom: 10px; }
        h2 { color: #ff69b4; margin-bottom: 20px; font-weight: bold; }

        input {
            width: 100%;
            padding: 12px;
            margin-bottom: 20px;
            border: 2px solid #ffb7c5;
            border-radius: 10px;
            text-align: center;
            font-size: 18px;
            outline: none;
            color: #ff69b4;
        }

        .btns { display: flex; gap: 10px; }
        button {
            flex: 1;
            padding: 10px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            cursor: pointer;
        }
        .btn-ok { background: #ff69b4; color: white; }
        .btn-cancel { background: #f0f0f0; color: #888; }

        #scene-bubbles {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(to bottom, #ffeff2, #ffd1dc);
            display: none;
            z-index: 20;
            overflow: hidden;
        }

        .bubble {
            position: absolute;
            background: linear-gradient(45deg, #fff 0%, #fff0f5 100%);
            color: #d6336c;
            padding: 10px 15px;
            border-radius: 15px;
            border-bottom-left-radius: 2px;
            font-size: 13px;
            font-weight: bold;
            box-shadow: 2px 2px 10px rgba(0,0,0,0.1);
            border: 1px solid #ffb7c5;
            max-width: 220px;
            opacity: 0;
            transform: scale(0);
            animation: popUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        .bubble::after {
            content: 'üå∏';
            position: absolute;
            right: -5px; top: -10px;
            font-size: 14px;
        }
        @keyframes popUp { to { opacity: 1; transform: scale(1); } }

        #scene-particles {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background-color: #000;
            display: none;
            z-index: 10;
        }
        canvas { display: block; }

        #music-btn {
            position: fixed;
            top: 20px; right: 20px;
            z-index: 100;
            font-size: 24px;
            opacity: 0.5;
            display: none;
            cursor: pointer;
            animation: rotate 3s linear infinite;
        }
        @keyframes rotate { from{transform: rotate(0deg);} to{transform: rotate(360deg);} }
    </style>
</head>
<body>

    <audio id="bgm" loop>
        <!-- ÁΩëÊòì‰∫ë Love Story (Taylor's Version) -->
        <source src="https://music.163.com/song/media/outer/url?id=529668463.mp3" type="audio/mpeg">
    </audio>
    <div id="music-btn" onclick="toggleMusic()">üéµ</div>

    <div id="scene-login">
        <div class="login-card">
            <div class="avatar">üíñ</div>
            <h2>Âº†ÊñØËã•</h2>
            <input type="password" id="passcode" placeholder="‰∏ã‰∏ÄÊ¨°ËßÅÈù¢ÁöÑÊó∂ÂÄô">
            <div class="btns">
                <button class="btn-cancel" onclick="alert('Ê≤°ÊúâÂèñÊ∂àÈÄâÈ°πÔºåÂøÖÈ°ªÂºÄÂøÉÔºÅ')">ÂèñÊ∂à</button>
                <button class="btn-ok" onclick="checkLogin()">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>

    <div id="scene-bubbles"></div>

    <div id="scene-particles">
        <canvas id="pCanvas"></canvas>
    </div>

    <script>
        const CONFIG = {
            password: "1221",
            bubbleDelay: 400,
            sceneWait: 3000
        };

        const MESSAGES = [
            // --- Part 1: Èó∫ËúúÊÄùÂøµ & ÂèØÁà±Á•ùÁ¶è & ÂçÅ‰∫åÊúàÂ•ΩËøê ---
            "‰∫≤Áà±ÁöÑÊñØËã•ÔºåÂçÅ‰∫åÊúàË¶ÅÂºÄÂºÄÂøÉÂøÉÂì¶ÔΩûüíñ",
            "ÊÉ≥‰Ω†‰∫ÜÔºÅÊàë‰ª¨‰∏ãÊ¨°ËßÅÈù¢‰∏ÄÂÆöË¶ÅÁã†Áã†Êä±Êä±ÔºÅü§ó",
            "ÂçÅ‰∫åÊúàÂ•ΩËøêÂ∑≤ÁªèÂºÄÂßãËê•‰∏öÂï¶ÔΩûüçÄ",
            "‰Ω†ÊòØÊàëÊúÄÊúÄÂèØÁà±ÁöÑÈó∫ËúúÔºåÊ∞∏ËøúÁà±‰Ω†ÔºÅüíï",
            "ÂØíÂÜ∑ÁöÑÂçÅ‰∫åÊúàÔºåÊúâÊàëÁöÑÊÄùÂøµÊ∏©Êöñ‰Ω†ÔΩûüî•",
            "‰Ω†ÊòØ‰∏ñÁïå‰∏äÊúÄÁæéÂ•ΩÁöÑÂ•≥Â≠©Â≠êÔºåË¶Å‰∏ÄÁõ¥ÂºÄÂøÉÔºÅ‚ú®",
            "ÂçÅ‰∫åÊúàÊØè‰∏ÄÂ§©ÈÉΩË¶ÅÁ¨ëÂæóÂÉèËä±ÂÑø‰∏ÄÊ†∑ÔΩûüå∏",
            "ÊÉ≥‰Ω†ÊÉ≥Âà∞ÂÜíÊ≥°ÔΩûÂíïÂôúÂíïÂôúÈÉΩÊòØÂØπ‰Ω†ÁöÑÊÄùÂøµüí≠",
            "ÊàëÁöÑÂÆùÔºå‰Ω†ÂÄºÂæó‰∏ñÁïå‰∏äÊâÄÊúâÁöÑÁæéÂ•ΩÔºÅüéÅ",
            "ÂçÅ‰∫åÊúàÂØπ‰Ω†ÁâπÂà´Â•ΩÔºåÂõ†‰∏∫‰Ω†ÊòØÁâπÂà´Â•ΩÁöÑ‰Ω†ÔΩûüåü",
            "ÈöîÁùÄÂ±èÂπïÈÉΩÊÉ≥Áªô‰Ω†‰∏Ä‰∏™Â§ßÂ§ßÁöÑÊã•Êä±ÔºÅü´Ç",
            "Êàë‰ª¨Ê∞∏ËøúÊòØÊúÄÂ•ΩÁöÑÈó∫ËúúÂßêÂ¶πËä±ÔºÅüå∫",
            "ÂçÅ‰∫åÊúàÁöÑÂ•ΩËøêÊ∞îÂÖ®ÈÉΩÈÄÅÁªô‰Ω†ÔΩûüéâ",
            "‰Ω†‰∏ÄÁ¨ëÔºåÊàëÁöÑ‰∏ñÁïåÈÉΩ‰∫Æ‰∫ÜÔºÅüí°",
            "ÊÉ≥‰Ω†ÁöÑÊó∂ÂÄôÂ∞±ÁúãÁúãÊàë‰ª¨ÁöÑÂêàÁÖßÔΩûüì∏",
            "‰Ω†ÊòØÊàëÊúÄÁèçË¥µÁöÑÂÆùËóèÂ•≥Â≠©ÔºÅüíé",
            "ÂçÅ‰∫åÊúàË¶ÅÂä†ÂÄçÂø´‰πêÔºåÂä†ÂÄçÂèØÁà±ÔºÅüê∞",
            "‰∏çÁÆ°Â§öËøúÔºåÊàëÁöÑÂøÉÈÉΩÂíå‰Ω†Âú®‰∏ÄËµ∑ÔΩûüíû",
            "‰Ω†ÊÄªÊòØËÉΩÂ∏¶ÁªôÊàëÊª°Êª°ÁöÑÊ≠£ËÉΩÈáèÔºÅ‚ö°",
            "ÂçÅ‰∫åÊúàÂØπ‰Ω†Ê∏©Êüî‰ª•ÂæÖÔºåÂõ†‰∏∫‰Ω†Â∞±ÊòØÊ∏©ÊüîÊú¨Ë∫´ÔΩûüåô",

            // --- Part 2: ËÄÉÁ†îÁ•ùÁ¶è & È°∫Âà©ÊàêÂäü & ÁæéÂ•ΩÊú™Êù• ---
            "ÊñØËã•ËÄÉÁ†î‰∏ÄÂÆöÈ°∫Âà©ÈÄöËøáÔºÅüéØ",
            "‰Ω†ÁöÑÂä™ÂäõÊàëÈÉΩÁúãÂú®ÁúºÈáåÔºå‰∏ÄÂÆö‰ºöÊàêÂäüÔºÅüí™",
            "ËÄÉÁ†îÈÇ£Â§©Ôºå‰Ω†Â∞±ÊòØËÄÉÂú∫ÊúÄ‰∫ÆÁöÑÊòüÔºÅüåü",
            "ÊâÄÊúâÁöÑÈ¢òÁõÆÈÉΩ‰ºöÂØπ‰Ω†ÂæàÂèãÂ•ΩÔΩûüìö",
            "Á¨îÂ∞ñÊúâÂÖâÔºå‰∏ãÁ¨îÂ¶ÇÊúâÁ•ûÂä©ÔºÅ‚ú®",
            "ËÄÉÁ†îÂØπ‰Ω†Êù•ËØ¥Â∞èËèú‰∏ÄÁ¢üÂï¶ÔΩûüçÄ",
            "‰Ω†ÁöÑÂÆûÂäõÈÖçÂæó‰∏äÊúÄÂ•ΩÁöÑÁªìÊûúÔºÅüèÜ",
            "ÊîæÊùæÂøÉÊÄÅÔºå‰Ω†ÂáÜÂ§áÂæóÈùûÂ∏∏ÂÖÖÂàÜ‰∫ÜÔºÅüéà",
            "ËÄÉÁ†îÈ°∫Âà©ÔºåÊú™Êù•ÂèØÊúüÔºÅüåà",
            "‰Ω†ÁöÑÂêçÂ≠ó‰∏ÄÂÆö‰ºöÂá∫Áé∞Âú®ÂΩïÂèñÂêçÂçï‰∏äÔºÅüìú",
            "ËÄÉÂú∫‰∏äÁöÑ‰Ω†‰ºöË∂ÖÂ∏∏ÂèëÊå•ÔºÅüöÄ",
            "ÊâÄÊúâËæõËã¶ÈÉΩ‰ºöÊç¢Êù•Êª°ÊÑèÁöÑÁ≠îÂç∑ÔºÅüíØ",
            "‰Ω†ÊòØÂ≠¶Èú∏Êú¨Èú∏ÔºåËÄÉÁ†îËΩªÊùæÊãø‰∏ãÔºÅüëë",
            "ËÄÉÁ†îÊàêÂäüÔºåÊàë‰ª¨Â•ΩÂ•ΩÂ∫ÜÁ•ùÔºÅüéä",
            "‰Ω†ÁöÑÊ¢¶ÊÉ≥‰∏ÄÂÆö‰ºöÂÆûÁé∞ÔºåÊàëÁõ∏‰ø°‰Ω†ÔºÅüí´",
            "Áü•ËØÜÁöÑÊµ∑Ê¥ãÈáåÔºå‰Ω†ÊòØÊúÄÊ£íÁöÑÊ∏∏Ê≥≥ÈÄâÊâãÔºÅüèä‚Äç‚ôÄÔ∏è",
            "ËÄÉÁ†îÈ°∫Âà©ÔºåÂâçÁ®ã‰ººÈî¶ÔºÅüåÖ",
            "‰Ω†ÁöÑÂùöÊåÅÁªàÂ∞ÜËé∑ÂæóÊúÄÁæéÁöÑÂõûÊä•ÔºÅüå∫",
            "ËÄÉËØïÈÇ£Â§©ÔºåÂ•ΩËøê‰∏é‰Ω†ÂêåË°åÔºÅüçÄ",
            "Á≠â‰Ω†ËÄÉÁ†îÊàêÂäüÁöÑÂ•ΩÊ∂àÊÅØÔºåÂä†Ê≤πÔºÅüéâ"
        ];

        function checkLogin() {
            const val = document.getElementById('passcode').value;
            if (val === CONFIG.password) {
                const audio = document.getElementById('bgm');
                audio.play().catch(error => { console.log("Ëá™Âä®Êí≠ÊîæÂèØËÉΩË¢´Êã¶Êà™"); });
                document.getElementById('music-btn').style.display = 'block';
                const loginLayer = document.getElementById('scene-login');
                loginLayer.style.opacity = 0;
                setTimeout(() => {
                    loginLayer.style.display = 'none';
                    startBubbles();
                }, 800);
            } else {
                alert("ÂØÜÁ†Å‰∏çÂØπÂì¶~ ÊÉ≥ÊÉ≥Êàë‰ª¨‰∏ã‰∏ÄÊ¨°ËßÅÈù¢ÁöÑÊó∂ÂÄôÔºü");
                document.getElementById('passcode').value = "";
            }
        }

        let isPlaying = true;
        function toggleMusic() {
            const audio = document.getElementById('bgm');
            const btn = document.getElementById('music-btn');
            if (isPlaying) { audio.pause(); btn.style.animation = 'none'; btn.style.opacity = '0.3'; }
            else { audio.play(); btn.style.animation = 'rotate 3s linear infinite'; btn.style.opacity = '0.5'; }
            isPlaying = !isPlaying;
        }

        function startBubbles() {
            const container = document.getElementById('scene-bubbles');
            container.style.display = 'block';
            let count = 0;
            const total = MESSAGES.length;
            MESSAGES.forEach((msg, i) => {
                setTimeout(() => {
                    createBubble(container, msg);
                    count++;
                    if(count === total) { setTimeout(startParticles, CONFIG.sceneWait); }
                }, i * CONFIG.bubbleDelay);
            });
        }

        function createBubble(parent, text) {
            const b = document.createElement('div');
            b.className = 'bubble';
            b.innerText = text;
            const w = window.innerWidth, h = window.innerHeight;
            const maxLeft = w - 160, maxTop = h - 80;
            const left = Math.random() * maxLeft + 20;
            const top = Math.random() * maxTop + 50;
            b.style.left = left + 'px';
            b.style.top = top + 'px';
            b.style.zIndex = 100 + count;
            const hue = 330 + Math.random() * 20;
            b.style.background = `linear-gradient(135deg, hsl(${hue}, 100%, 97%) 0%, #fff 100%)`;
            parent.appendChild(b);
        }
        let count = 0;

        function startParticles() {
            const bLayer = document.getElementById('scene-bubbles');
            bLayer.style.transition = 'opacity 2s';
            bLayer.style.opacity = 0;
            setTimeout(() => {
                bLayer.style.display = 'none';
                document.getElementById('scene-particles').style.display = 'block';
                initCanvas();
            }, 2000);
        }

        function initCanvas() {
            const canvas = document.getElementById('pCanvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            let particles = [];
            const fontSize1 = Math.min(window.innerWidth / 5, 80);
            const fontSize2 = Math.min(window.innerWidth / 8, 40);

            class Particle {
                constructor(targetX, targetY) {
                    this.tx = targetX; this.ty = targetY;
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.vx = 0; this.vy = 0;
                    const colors = ['#ff69b4', '#ff1493', '#00bfff', '#ffd700', '#ffffff'];
                    this.color = colors[Math.floor(Math.random() * colors.length)];
                    this.friction = 0.93;
                    this.ease = Math.random() * 0.05 + 0.02;
                }
                update() {
                    const dx = this.tx - this.x, dy = this.ty - this.y;
                    this.vx += dx * this.ease; this.vy += dy * this.ease;
                    this.vx *= this.friction; this.vy *= this.friction;
                    this.x += this.vx; this.y += this.vy;
                }
                draw() { ctx.fillStyle = this.color; ctx.fillRect(this.x, this.y, 2, 2); }
            }

            function getTextCoordinates() {
                const tmpC = document.createElement('canvas');
                tmpC.width = canvas.width; tmpC.height = canvas.height;
                const tCtx = tmpC.getContext('2d');
                tCtx.textAlign = 'center'; tCtx.textBaseline = 'middle';
                tCtx.fillStyle = 'white';
                tCtx.font = `bold ${fontSize1}px "Microsoft YaHei"`;
                tCtx.fillText('Âº†ÊñØËã•', canvas.width/2, canvas.height/2 - 30);
                tCtx.font = `bold ${fontSize2}px Arial`;
                tCtx.fillText('‰∏ÄÂÆöË¶ÅÂºÄÂøÉÂì¶', canvas.width/2, canvas.height/2 + 40);
                const idata = tCtx.getImageData(0, 0, canvas.width, canvas.height);
                const data = idata.data; const step = 3;
                for (let y = 0; y < canvas.height; y += step) {
                    for (let x = 0; x < canvas.width; x += step) {
                        const idx = (y * canvas.width + x) * 4;
                        if (data[idx + 3] > 128) { particles.push(new Particle(x, y)); }
                    }
                }
            }
            getTextCoordinates();
            function animate() {
                ctx.fillStyle = 'rgba(0,0,0,0.2)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                particles.forEach(p => { p.update(); p.draw(); });
                requestAnimationFrame(animate);
            }
            animate();
        }
    </script>
</body>
</html>
